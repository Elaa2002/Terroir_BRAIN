{
  "_type": "export",
  "__export_format": 4,
  "__export_date": "2025-01-15T00:00:00.000Z",
  "__export_source": "insomnia.desktop.app:v2023.5.8",
  "resources": [
    {
      "_id": "wrk_terroir",
      "_type": "workspace",
      "name": "Terroir Brain API",
      "description": "Cultural Demand Forecasting for Tunisian Guest Houses"
    },
    {
      "_id": "env_base",
      "_type": "environment",
      "name": "Base Environment",
      "data": {
        "auth_url": "http://localhost:8001",
        "api_url": "http://localhost:8000",
        "token": ""
      }
    },
    {
      "_id": "req_register",
      "_type": "request",
      "name": "1. Register User",
      "method": "POST",
      "url": "{{ auth_url }}/api/v1/auth/register",
      "headers": [
        {"name": "Content-Type", "value": "application/json"}
      ],
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"username\": \"guesthouse_owner\",\n  \"email\": \"owner@example.com\",\n  \"password\": \"securepass123\",\n  \"role\": \"admin\"\n}"
      }
    },
    {
      "_id": "req_login",
      "_type": "request",
      "name": "2. Login (Get Token)",
      "method": "POST",
      "url": "{{ auth_url }}/api/v1/auth/login",
      "headers": [
        {"name": "Content-Type", "value": "application/x-www-form-urlencoded"}
      ],
      "body": {
        "mimeType": "application/x-www-form-urlencoded",
        "params": [
          {"name": "username", "value": "guesthouse_owner"},
          {"name": "password", "value": "securepass123"}
        ]
      }
    },
    {
      "_id": "req_me",
      "_type": "request",
      "name": "3. Get Current User",
      "method": "GET",
      "url": "{{ auth_url }}/api/v1/auth/me",
      "headers": [
        {"name": "Authorization", "value": "Bearer {{ token }}"}
      ]
    },
    {
      "_id": "req_list_nationalities",
      "_type": "request",
      "name": "4. List Nationalities",
      "method": "GET",
      "url": "{{ api_url }}/api/v1/nationalities",
      "headers": [
        {"name": "Authorization", "value": "Bearer {{ token }}"}
      ]
    },
    {
      "_id": "req_list_ingredients",
      "_type": "request",
      "name": "5. List Ingredients",
      "method": "GET",
      "url": "{{ api_url }}/api/v1/ingredients",
      "headers": [
        {"name": "Authorization", "value": "Bearer {{ token }}"}
      ]
    },
    {
      "_id": "req_list_dishes",
      "_type": "request",
      "name": "6. List Dishes (Traditional Only)",
      "method": "GET",
      "url": "{{ api_url }}/api/v1/dishes?traditional_only=true",
      "headers": [
        {"name": "Authorization", "value": "Bearer {{ token }}"}
      ]
    },
    {
      "_id": "req_forecast",
      "_type": "request",
      "name": "7. Get Demand Forecast",
      "method": "GET",
      "url": "{{ api_url }}/api/v1/forecast/demand?occupancy=20&nationality=FRA&date=2025-03-15",
      "headers": [
        {"name": "Authorization", "value": "Bearer {{ token }}"}
      ]
    },
    {
      "_id": "req_create_guest",
      "_type": "request",
      "name": "8. Create Guest",
      "method": "POST",
      "url": "{{ api_url }}/api/v1/guests",
      "headers": [
        {"name": "Content-Type", "value": "application/json"},
        {"name": "Authorization", "value": "Bearer {{ token }}"}
      ],
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"name\": \"Sophie Laurent\",\n  \"email\": \"sophie@example.com\",\n  \"nationality_id\": 1,\n  \"dietary_restrictions\": \"Gluten-free\"\n}"
      }
    },
    {
      "_id": "req_log_waste",
      "_type": "request",
      "name": "9. Log Waste (Feedback Loop)",
      "method": "POST",
      "url": "{{ api_url }}/api/v1/waste/log",
      "headers": [
        {"name": "Content-Type", "value": "application/json"},
        {"name": "Authorization", "value": "Bearer {{ token }}"}
      ],
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"ingredient_id\": 1,\n  \"quantity_kg\": 1.5,\n  \"date\": \"2025-01-14\",\n  \"reason\": \"Flight delay\",\n  \"occupancy_on_date\": 18,\n  \"weather_condition\": \"Normal\"\n}"
      }
    },
    {
      "_id": "req_waste_analysis",
      "_type": "request",
      "name": "10. Get Waste Analysis",
      "method": "GET",
      "url": "{{ api_url }}/api/v1/waste/analysis?start_date=2025-01-01&end_date=2025-01-31",
      "headers": [
        {"name": "Authorization", "value": "Bearer {{ token }}"}
      ]
    },
    {
      "_id": "req_seasonal_menu",
      "_type": "request",
      "name": "11. Get Seasonal Menu (March)",
      "method": "GET",
      "url": "{{ api_url }}/api/v1/menu/seasonal?month=3&nationality=FRA",
      "headers": [
        {"name": "Authorization", "value": "Bearer {{ token }}"}
      ]
    },
    {
      "_id": "req_justify_dish",
      "_type": "request",
      "name": "12. Justify Dish Recommendation",
      "method": "GET",
      "url": "{{ api_url }}/api/v1/menu/justify/1",
      "headers": [
        {"name": "Authorization", "value": "Bearer {{ token }}"}
      ]
    },
    {
      "_id": "req_list_suppliers",
      "_type": "request",
      "name": "13. List Suppliers",
      "method": "GET",
      "url": "{{ api_url }}/api/v1/suppliers",
      "headers": [
        {"name": "Authorization", "value": "Bearer {{ token }}"}
      ]
    },
    {
      "_id": "req_recommend_supplier",
      "_type": "request",
      "name": "14. Recommend Supplier for Ingredient",
      "method": "GET",
      "url": "{{ api_url }}/api/v1/suppliers/recommend/1",
      "headers": [
        {"name": "Authorization", "value": "Bearer {{ token }}"}
      ]
    },
    {
      "_id": "req_sustainability_report",
      "_type": "request",
      "name": "15. Get Sustainability Report",
      "method": "GET",
      "url": "{{ api_url }}/api/v1/reports/sustainability?start_date=2025-01-01&end_date=2025-01-31",
      "headers": [
        {"name": "Authorization", "value": "Bearer {{ token }}"}
      ]
    }
  ]
}